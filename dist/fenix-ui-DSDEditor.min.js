define(["jquery","amplify-pubsub","loglevel","parsleyjs"],function(t,e,i,n){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){var n,o;n=[i(2),i(3)],o=function(t,e){function i(i,n,o){t.extend(!0,p,c,n),this.DSDE=new e(p),this.DSDE.render(t(i),p,o)}function n(t){this.DSDE.set(t)}function o(){return this.DSDE.get()}function r(){return this.DSDE.validate()}function s(t){this.DSDE.editable(t)}function a(){this.DSDE.reset()}function l(){this.DSDE.destroy()}function d(){return this.DSDE.hasChanged()}function u(t,e,i){return this.DSDE.on(t,e,i)}var c={},p={};return{init:i,set:n,get:o,validate:r,editable:s,reset:a,destroy:l,hasChanged:d,on:u}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(e,i){e.exports=t},function(t,e,i){var n,o;n=[i(2),i(32),i(5),i(25),i(43),i(61),i(29),i(59),i(4),i(38),i(39),i(40),i(30)],o=function(t,e,n,o,r,s,a,l,d,u,c,p,h){function f(e){this.config={},this.$container=null,t.extend(!0,this.config,v,e),this.lang=this.config.lang.toLowerCase(),this.$divDSDDisplay,this.$divColEditor,this.dsd=[],this.channels={},this.DSDDisplay,this.colEditor,this.changed=!1}function y(t,e){if(!t)return-1;for(var i=0;i<t.length;i++)if(t[i].id==e)return i;return-1}function m(t,e){var i=y(t,e);return i==-1?null:t[i]}var v={},D={divDSD:"#divDSD",divColEditor:"#divColEditor",divColEditorCnt:"#divColEditorCnt",btnAddDimension:"#btnAddDimension",btnAddValue:"#btnAddValue",btnAddOther:"#btnAddOther",btnColEditorOk:"#btnColEditorOk",btnColEditorCancel:"#btnColEditorCancel"},b={dimension:"dimension",value:"value",other:"other"},g={DSDEDITOR_TO_COLUMN_EDITOR:"fx.DSDEditor.toColumnEditor",DSDEDITOR_TO_COLUMN_SUMMARY:"fx.DSDEditor.toColumnSummary"};return f.prototype.render=function(s,a,l){t.extend(!0,this.config,a),this.$container=s,this.$container.html(n),i(62),this.$divDSDDisplay=this.$container.find(D.divDSD),this.$divColEditor=this.$container.find(D.divColEditor),this.DSDDisplay=new o(this.config),this.DSDDisplay.render(this.$divDSDDisplay),this.colEditor=new r(this.config);var d=this.$container.find(D.divColEditorCnt);this.colEditor.render(d),this.$divColEditor.hide(),this._bindEvents(),e.info("DSDEditor init with ",this.config),l&&l()},f.prototype.set=function(t){e.info("DSD Set",t),this.dsd=t,this.updateDSDView()},f.prototype.get=function(){return this.dsd},f.prototype.switchVisibility=function(t){t==D.divColEditor?(this.$divDSDDisplay.hide(),this.$divColEditor.show(),h.publish(g.DSDEDITOR_TO_COLUMN_EDITOR),this._trigger("dsd:columneditor")):t==D.divDSD&&(this.$divColEditor.hide(),this.$divDSDDisplay.show(),h.publish(g.DSDEDITOR_TO_COLUMN_SUMMARY),this._trigger("dsd:columnsumary"))},f.prototype.addColumn=function(t){this.switchVisibility(D.divColEditor),this.colEditor.newColumn(),this.colEditor.setColumnEditorType(t)},f.prototype.editColumn=function(t){this.switchVisibility(D.divColEditor),this.colEditor.setColumn(t)},f.prototype.colEditDone=function(){var t=this.colEditor.getColumn();this.dsd||(this.dsd=[]),""==t.id&&(t.id=(new s).generate(this.dsd,t));var i=y(this.dsd,t.id);e.info(i,this.dsd,typeof this.dsd,t),i==-1?this.dsd.push(t):this.dsd[i]=t,this._sortColumnsByType(),this.updateDSDView(),this.changed=!0},f.prototype._sortColumnsByType=function(){this.dsd.sort(function(t,e){return t.key&&e.key?0:t.key?-1:e.key?1:"value"==t.subject&&"value"==e.subject?0:"value"==t.subject?-1:"value"==e.subject?1:0})},f.prototype.updateDSDView=function(){this.DSDDisplay.setCols(this.dsd)},f.prototype._colAddClick=function(t){"addDim"==t?this.addColumn(b.dimension):"addVal"==t?this.addColumn(b.value):"addOther"==t&&this.addColumn(b.other)},f.prototype.reset=function(){this.set([]),this.updateDSDView(),this.changed=!1},f.prototype.hasChanged=function(){return this.changed},f.prototype._bindEvents=function(){var t=this;h.subscribe(a.COLUMN_CLICK_ADD,this,t._colAddClick),this.$container.find(D.btnColEditorOk).on("click",function(){var e=t.colEditor.validate();e&&(t.colEditDone(),t.switchVisibility(D.divDSD))}),this.$container.find(D.btnColEditorCancel).on("click",function(){t.colEditor.changed()&&!confirm(p[t.lang].unsavedChanges)||(t.colEditor.reset(),t.switchVisibility(D.divDSD))}),h.subscribe(a.COLUMN_CLICK_EDIT,this,t._colDisplayEditClicked),h.subscribe(a.COLUMN_CLICK_DELETE,this,t._colDisplayDeleteClicked)},f.prototype._unbindEvents=function(){h.unsubscribe(a.COLUMN_CLICK_ADD,this._colAddClick),this.$container.find(D.btnColEditorOk).off("click"),this.$container.find(D.btnColEditorCancel).off("click"),h.unsubscribe(a.COLUMN_CLICK_EDIT,this._colDisplayEditClicked),h.unsubscribe(a.COLUMN_CLICK_DELETE,this._colDisplayDeleteClicked)},f.prototype.destroy=function(){this._unbindEvents(),this.DSDDisplay.destroy(),this.colEditor.destroy()},f.prototype._colDisplayEditClicked=function(t){var e=m(this.dsd,t);this.editColumn(e)},f.prototype._colDisplayDeleteClicked=function(t){if(!confirm(p[this.lang].areYouSure))return!1;var e=y(this.dsd,t);e!=-1&&this.dsd.splice(e,1),this.updateDSDView(),this.changed=!0},f.prototype.editable=function(t){t?this.colEditor.setEditMode({subject:!0,domain:!0,datatype:!0}):this.colEditor.setEditMode({subject:!1,domain:!1,datatype:!1}),this.DSDDisplay.isEditable(t)},f.prototype.validate=function(){var t=new l,e=t.validateColumns(this.get());return this.updateValidationUI(e),!e||0==e.length},f.prototype.isValid=function(){var t=new l,e=t.validateColumns(this.get());return!e||0==e.length},f.prototype.updateValidationUI=function(t){if(t)for(var i=0;i<t.length;i++)e.warn(t[i].message)},f.prototype._trigger=function(t){if(!this.channels[t])return!1;for(var e=Array.prototype.slice.call(arguments,1),i=0,n=this.channels[t].length;i<n;i++){var o=this.channels[t][i];o.callback.apply(o.context,e)}return this},f.prototype.on=function(t,e,i){var n=i||this;return this.channels[t]||(this.channels[t]=[]),this.channels[t].push({context:n,callback:e}),this},f}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[],o=function(){"use strict";var t={NULL_COLUMN:"nullColumn",TITLE_BLANK:"titleBlank",DIMENSION_DATATYPE_ERROR:"dimnsionDataTypeError",SUBJECT_EMPTY:"subjectEmpty",DATATYPE_EMPTY:"dataTypeEmpty",CODELIST_EMPTY:"codelistEmpty",NULL_COLUMNS:"nullColumns",AT_LEAST_2_COLS:"atLeast2Cols",DUPLICATE_IDS:"duplicateIDs",AT_LEAST_1_KEY:"atLeast1Key",AT_LEAST_1_VALUE:"atLeast1Value",DUPLICATE_SUBJECTS:"duplicateSubjects"};return t}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<div id="divDSD">\r\n</div>\r\n<div id="divColEditor">\r\n    <div id="divColEditorCnt">\r\n    </div>\r\n    <button id="btnColEditorOk" class="btn btn-default"><span class="glyphicon glyphicon-ok"></span></button>\r\n    <button id="btnColEditorCancel" class="btn btn-default"><span class="glyphicon glyphicon-remove"></span></button>\r\n</div>'},useData:!0})},function(t,e,i){t.exports=i(7).default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(){var t=new a.HandlebarsEnvironment;return h.extend(t,a),t.SafeString=d.default,t.Exception=c.default,t.Utils=h,t.escapeExpression=h.escapeExpression,t.VM=y,t.template=function(e){return y.template(e,t)},t}e.__esModule=!0;var s=i(8),a=o(s),l=i(22),d=n(l),u=i(10),c=n(u),p=i(9),h=o(p),f=i(23),y=o(f),m=i(24),v=n(m),D=r();D.create=r,v.default(D),D.default=D,e.default=D,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},l.registerDefaultHelpers(this),d.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=o;var r=i(9),s=i(10),a=n(s),l=i(11),d=i(19),u=i(21),c=n(u),p="4.0.5";e.VERSION=p;var h=7;e.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=f;var y="[object Object]";o.prototype={constructor:o,logger:c.default,log:c.default.log,registerHelper:function(t,e){if(r.toString.call(t)===y){if(e)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(r.toString.call(t)===y)r.extend(this.partials,t);else{if("undefined"==typeof e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(r.toString.call(t)===y){if(e)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=c.default.log;e.log=m,e.createFrame=r.createFrame,e.logger=c.default},function(t,e){"use strict";function i(t){return u[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function o(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}function r(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(c,i):t}function s(t){return!t&&0!==t||!(!y(t)||0!==t.length)}function a(t){var e=n({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function d(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=o,e.escapeExpression=r,e.isEmpty=s,e.createFrame=a,e.blockParams=l,e.appendContextPath=d;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;e.toString=h;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)}),e.isFunction=f;var y=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};e.isArray=y},function(t,e){"use strict";function i(t,e){var o=e&&e.loc,r=void 0,s=void 0;o&&(r=o.start.line,s=o.start.column,t+=" - "+r+":"+s);for(var a=Error.prototype.constructor.call(this,t),l=0;l<n.length;l++)this[n[l]]=a[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),o&&(this.lineNumber=r,this.column=s)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){s.default(t),l.default(t),u.default(t),p.default(t),f.default(t),m.default(t),D.default(t)}e.__esModule=!0,e.registerDefaultHelpers=o;var r=i(12),s=n(r),a=i(13),l=n(a),d=i(14),u=n(d),c=i(15),p=n(c),h=i(16),f=n(h),y=i(17),m=n(y),v=i(18),D=n(v)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(9);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,i){var o=i.inverse,r=i.fn;if(e===!0)return r(this);if(e===!1||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)})},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(9),r=i(10),s=n(r);e.default=function(t){t.registerHelper("each",function(t,e){function i(e,i,r){d&&(d.key=e,d.index=i,d.first=0===i,d.last=!!r,u&&(d.contextPath=u+e)),l+=n(t[e],{data:d,blockParams:o.blockParams([t[e],e],[u+e,null])})}if(!e)throw new s.default("Must pass iterator to #each");var n=e.fn,r=e.inverse,a=0,l="",d=void 0,u=void 0;if(e.data&&e.ids&&(u=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(d=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var c=t.length;a<c;a++)a in t&&i(a,a,a===t.length-1);else{var p=void 0;for(var h in t)t.hasOwnProperty(h)&&(void 0!==p&&i(p,a-1),p=h,a++);void 0!==p&&i(p,a-1,!0)}return 0===a&&(l=r(this)),l})},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(10),r=n(o);e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(9);e.default=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(9);e.default=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&(o=n.createFrame(e.data),o.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:o,blockParams:n.blockParams([t],[o&&o.contextPath])})})},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){s.default(t)}e.__esModule=!0,e.registerDefaultDecorators=o;var r=i(20),s=n(r)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(9);e.default=function(t){t.registerDecorator("inline",function(t,e,i,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(o,r);return i.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(9),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};e.default=o,t.exports=e.default},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(e<i){var n=v.REVISION_CHANGES[i],o=v.REVISION_CHANGES[e];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function i(i,n,o){o.hash&&(n=f.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,o);var r=e.VM.invokePartial.call(this,i,n,o);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(i,t.compilerOptions,e),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new m.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(o,e,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;n._setup(r),!r.partial&&t.useData&&(s=c(e,s));var a=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(a=r.depths?e!==r.depths[0]?[e].concat(r.depths):r.depths:[e]),(i=p(t.main,i,o,r.depths||[],s,l))(e,r)}if(!e)throw new m.default("No environment passed to template");if(!t||!t.main)throw new m.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new m.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,o){var r=this.programs[t],s=this.fn(t);return e||o||n||i?r=a(this,t,s,e,i,n,o):r||(r=this.programs[t]=a(this,t,s)),r},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=f.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,r){if(t.useBlockParams&&!n)throw new m.default("must pass block params");if(t.useDepths&&!r)throw new m.default("must pass parent depths");return a(o,e,t[e],i,0,n,r)},n}function a(t,e,i,n,o,r,s){function a(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&e!==s[0]&&(a=[e].concat(s)),i(t,e,t.helpers,t.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return a=p(i,a,t,s,n,r),a.program=e,a.depth=s?s.length:0,a.blockParams=o||0,a}function l(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function d(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==u&&(i.data=v.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=f.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new m.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)}function u(){return""}function c(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function p(t,e,i,n,o,r){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],o,r,n),f.extend(e,s)}return e}e.__esModule=!0,e.checkRevision=r,e.template=s,e.wrapProgram=a,e.resolvePartial=l,e.invokePartial=d,e.noop=u;var h=i(9),f=o(h),y=i(10),m=n(y),v=i(8)},function(t,e){(function(i){"use strict";e.__esModule=!0,e.default=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e,i){var n,o;n=[i(2),i(26),i(27),i(31),i(40)],o=function(t,e,i,n,o){function r(e){this.config={},this.$container=null,t.extend(!0,this.config,s,e),this.$tdAddDim=null,this.$tdAddVal=null,this.$tdAddOther=null,this.$colsDisplay=null,this.lang=this.config.lang.toLowerCase(),this.addColBtnDim=new i(this.config),this.addColBtnVal=new i(this.config),this.addColBtnOther=new i(this.config),this.colsDisplay=new n(this.config)}var s={},a={idTDAddDim:"#tdAddDim",idTDAddVal:"#tdAddVal",idTDAddOther:"#tdAddOther",idColsDisplay:"#colsDisplay",idTblAddCol:"#tblAddCol"};return r.prototype.render=function(i,n){t.extend(!0,this.config,n),this.$container=i,this.$container.html(e),this.$tdAddDim=this.$container.find(a.idTDAddDim),this.$tdAddVal=this.$container.find(a.idTDAddVal),this.$tdAddOther=this.$container.find(a.idTDAddOther),this.$colsDisplay=this.$container.find(a.idColsDisplay),this.addColBtnDim.render(this.$tdAddDim),this.addColBtnVal.render(this.$tdAddVal),this.addColBtnOther.render(this.$tdAddOther),this.addColBtnDim.set({title:o[this.lang].dimension,help:o[this.lang].helpDim,evtId:"addDim",headerClass:"bg-dim"}),this.addColBtnVal.set({title:o[this.lang].value,help:o[this.lang].helpVal,evtId:"addVal",headerClass:"bg-val"}),this.addColBtnOther.set({title:o[this.lang].other,help:o[this.lang].helpOther,evtId:"addOther",headerClass:"bg-other"}),this.colsDisplay.render(this.$colsDisplay),this._bindEvents()},r.prototype.setCols=function(t){this.reset(),this.colsDisplay.set(t)},r.prototype.reset=function(){this.colsDisplay.reset()},r.prototype._bindEvents=function(){},r.prototype._unbindEvents=function(){},r.prototype.destroy=function(){this.addColBtnDim.destroy(),this.addColBtnVal.destroy(),this.addColBtnOther.destroy(),this.colsDisplay.destroy()},r.prototype.isEditable=function(t){if("boolean"==typeof t)return"function"==typeof this.colsDisplay.editable&&this.colsDisplay.editable(t),t?this.$container.find(a.idTblAddCol).show():this.$container.find(a.idTblAddCol).hide(),t},r}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<table id="tblAddCol" class="table">\r\n    <tbody>\r\n        <tr>\r\n            <td id="tdAddDim" class="cTdDim"></td>\r\n            <td id="tdAddVal" class="cTdVal"></td>\r\n            <td id="tdAddOther" class="cTdOther"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n<div id="colsDisplay"></div>'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(28),i(29),i(30)],o=function(t,e,i,n){function o(e){this.config={},this.$container=null,t.extend(!0,this.config,r,e),this.evtId="",this.$btnAddColTitle=null,this.$btnAdd=null,this.$tdAddColButton_help=null}var r={},s={idBtnAddColTitle:"#btnAddColButtonTitle",idBtnAdd:"#btnAdd",idTdAddColButton_help:"#tdAddColButton_help",idAddColH:"#addColH"},a={addColButton_btnClick:i.COLUMN_CLICK_ADD};return o.prototype.render=function(i,n){t.extend(!0,this.config,n),this.$container=i,this.$container.html(e),this.$btnAddColTitle=this.$container.find(s.idBtnAddColTitle),this.$btnAdd=this.$container.find(s.idBtnAdd),this.$tdAddColButton_help=this.$container.find(s.idTdAddColButton_help),this._bindEvents()},o.prototype.set=function(t){t&&(t.title&&this.setTitle(t.title),t.help&&this.setHelp(t.help),t.evtId&&this.setEvtId(t.evtId),t.headerClass&&this.$container.find(s.idAddColH).addClass(t.headerClass))},o.prototype.setTitle=function(t){this.$btnAddColTitle.html(t)},o.prototype.setHelp=function(t){this.$tdAddColButton_help.html(t)},o.prototype.setEvtId=function(t){this.evtId=t},o.prototype.reset=function(){this.setTitle(""),this.setHelp("")},o.prototype._bindEvents=function(){var t=this;this.$btnAdd.on("click",function(){n.publish(a.addColButton_btnClick,t.evtId)})},o.prototype._unbindEvents=function(){this.$btnAdd.off("click")},o.prototype.destroy=function(){this._unbindEvents()},o}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<table class="table roundBorder">\r\n    <thead>\r\n        <tr id="addColH">\r\n            <th class="btnAddColHead">\r\n                <span id="btnAddColButtonTitle"></span>\r\n                <br />\r\n                <button id="btnAdd" type="button" class="btn btn-primary fx-button-primary-color"><span class="glyphicon glyphicon-plus"></span></button>\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr>\r\n            <td id="tdAddColButton_help"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>'},useData:!0})},function(t,e,i){var n,o;n=[],o=function(){"use strict";var t={CODELIST_SELECTOR_CHANGED:"fx.CodelistSelector.chaged",DYNAMIC_RADIO_CHANGED:"fx.DynamicRadio.chaged",COLUMN_CLICK_ADD:"fx.addColButton.btnClick",COLUMN_CLICK_EDIT:"fx.coldisplay.edit",COLUMN_CLICK_DELETE:"fx.coldisplay.delete"};return t}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,i){t.exports=e},function(t,e,i){var n,o;n=[i(2),i(32),i(33),i(34),i(35),i(37),i(40)],o=function(t,e,i,n,o,r,s){function a(i){this.config={},this.$container=null,t.extend(!0,this.config,d,i),this.lang=this.config.lang.toLowerCase(),this.cols=null,this.$trHead=null,this.$trEdit=null,this.$trSubj=null,this.$trDataType=null,this.$trDomain=null,this.editBtns=[],this.editable,e.info("ColsDisplay",this)}function l(t){var e=(90/t.length,c.colTH);return e=e.replace("%cnt%",p.MLStringToString(t.title,"<br/>")),e=t.key?e.replace("%cl%","dragHeader bg-dim"):"value"==t.subject?e.replace("%cl%","dragHeader bg-val"):e.replace("%cl%","dragHeader bg-other")}var d={lang:"EN"},u={idTrHead:"#trColInfoHead",idTrEdit:"#trEdit",idTrSubj:"#trSubj",idTrDataType:"#trDataType",idTrDomain:"#trDomain",idTrSuppl:"#trSuppl"},c={colTH_empty:'<th style="width:10%"></th>',colTD_empty:"<td></td>",colTH:'<th style="cursor:move;" draggable="true" class="%cl%">%cnt%</th>',colTD_Edit:'<td><div id="%id%"></div></td>',colTD:"<td>%cnt%</td>",colSubj:'<td class="text-muted">Subject</td>',colDataType:'<td class="text-muted">Data type</td>',colDomain:'<td class="text-muted">Domain</td>',colSuppl:'<td class="text-muted">Supplemental</td>'},p=new n;return a.prototype.render=function(e,n){t.extend(!0,this.config,n),this.$container=e,this.$container.html(i),this.$trHead=this.$container.find(u.idTrHead),this.$trEdit=this.$container.find(u.idTrEdit),this.$trSubj=this.$container.find(u.idTrSubj),this.$trDataType=this.$container.find(u.idTrDataType),this.$trDomain=this.$container.find(u.idTrDomain),this.$trSuppl=this.$container.find(u.idTrSuppl),this._bindEvents(),this._doML()},a.prototype._doML=function(){c.colSubj='<td class="text-muted">'+s[this.lang].subject+"</td>",c.colDataType='<td class="text-muted">'+s[this.lang].datatype+"</td>",c.colDomain='<td class="text-muted">'+s[this.lang].domain+"</td>",c.colSuppl='<td class="text-muted">'+s[this.lang].supplemental+"</td>"},a.prototype.set=function(t){this.reset(),t&&(this._createHeader(t),this._createEditRow(t),this._createRows(t),this.cols=t)},a.prototype._createHeader=function(t){if(e.info("_createHeader",t),!t)return"";for(var i=c.colTH_empty,n=0;n<t.length;n++)i+=l(t[n]);this.$trHead.html(i),this.editable&&this._bindHeaders()},a.prototype._bindHeaders=function(){for(var e=this.$trHead.find(".dragHeader"),i=this,n=0;n<e.length;n++)t(e[n]).on("drop",function(t){i.drop(t)}),t(e[n]).on("dragover",i.allowDrop),t(e[n]).on("dragstart",i.drag)},a.prototype._removeBindHeaders=function(){for(var e=this.$trHead.find(".dragHeader"),i=0;i<e.length;i++)t(e[i]).off("drop"),t(e[i]).off("dragover"),t(e[i]).off("dragstart")},a.prototype.drag=function(t){t.originalEvent.dataTransfer.setData("cellNumber",t.target.cellIndex)},a.prototype.allowDrop=function(t){t.preventDefault()},a.prototype.drop=function(t){if(this.editable){t.preventDefault();var i=t.originalEvent.dataTransfer.getData("cellNumber")-1,n=t.target.cellIndex-1;if(colSource=this.cols[i].id.substring(0,5),colTarget=this.cols[n].id.substring(0,5),colSource==colTarget){e.info("before",this.cols);var o=this.cols,r=this.cols[n];this.cols[n]=this.cols[i],this.cols[i]=r,e.info("after",o),e.info(this),this.set(this.cols)}else e.info("dropping not allowed here")}},a.prototype._createEditRow=function(t){if(t){for(var e=c.colTD_empty,i="tdEdit_",n=0;n<t.length;n++)e+=c.colTD_Edit.replace("%id%",i+""+t[n].id);for(this.$trEdit.html(e),this.editBtns=[],n=0;n<t.length;n++){var r="#"+i+t[n].id,s=this.$trEdit.find(r),a=new o(this.config);a.render(s),a.setEventId(t[n].id),a.deleteEnabled(this.editable),this.editBtns.push(a)}}},a.prototype._createRows=function(t){if(!t)return"";for(var e=c.colSubj,i=c.colDataType,n=c.colDomain,o=c.colSuppl,r=0;r<t.length;r++)e+=this._createColTD(t[r],"subject",this.lang.toUpperCase()),i+=this._createColTD(t[r],"dataType",this.lang.toUpperCase()),n+=this._createColTD(t[r],"domain",this.lang.toUpperCase()),o+=this._createColTD(t[r],"supplemental",this.lang.toUpperCase());this.$trSubj.html(e),this.$trDataType.html(i),this.$trDomain.html(n),this.$trSuppl.html(o)},a.prototype._createColTD=function(t,e,i){var n=c.colTD;switch(e){case"subject":n=t.subject?n.replace("%cnt%",t.subject):n.replace("%cnt%","");break;case"dataType":n=t.dataType?n.replace("%cnt%",t.dataType):n.replace("%cnt%","");break;case"domain":n=t.domain?n.replace("%cnt%",this._domainToString(t.domain,i)):n.replace("%cnt%","");break;case"supplemental":n=t.supplemental?n.replace("%cnt%",p.MLStringToString(t.supplemental,"<br/>")):n.replace("%cnt%","")}return n},a.prototype._domainToString=function(t,e){if(t.codes&&t.codes[0]){var i=t.codes[0].idCodeList;t.codes[0].version&&(i+="|"+t.codes[0].version);var n=new r(this.config),o=n.getCodelist(i);return o?o.text[e]:""}return""},a.prototype.reset=function(){this.$trHead.html(""),this.$trSubj.html(""),this.$trDataType.html(""),this.$trDomain.html(""),this.$trSuppl.html(""),this.editBtns=[],this._removeBindHeaders()},a.prototype.editable=function(t){if(e.info("ColsDisplay.prototype.editable",t),this.editable=t,this.editBtns)for(var i=0;i<this.editBtns.length;i++)this.editBtns[i].deleteEnabled(t);return e.info("ColsDisplay.prototype.editable return> ",t),t},a.prototype._bindEvents=function(){},a.prototype._unbindEvents=function(){},a.prototype.destroy=function(){if(this.editBtns)for(var t=0;t<this.editBtns.length;t++)this.editBtns[t].destroy()},a}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=i},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<table class="table table-bordered">\r\n    <thead>\r\n        <tr id="trColInfoHead"></tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr id="trEdit"></tr>\r\n        <tr id="trSubj"></tr>\r\n        <tr id="trDataType"></tr>\r\n        <tr id="trDomain"></tr>\r\n        <tr id="trSuppl" style="display: none;"></tr>\r\n    </tbody>\r\n</table>'},useData:!0})},function(t,e,i){var n,o;n=[],o=function(){var t=function(){};return t.prototype.MLStringToString=function(t,e){if(!t)return"";var i="";for(var n in t)i+=n+": "+t[n]+e;return i=i.substring(0,i.length-e.length)},t}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(2),i(36),i(29),i(30)],o=function(t,e,i,n){function o(e){this.config={},this.$container=null,t.extend(!0,this.config,r,e),this.$btnEdit=null,this.$btnDel=null,this.evtId=""}var r={},s={idBtnEdit:"#colsDisplayColEdit",idBtnDel:"#colsDisplayColDel"},a={clickEdit:i.COLUMN_CLICK_EDIT,clickDelete:i.COLUMN_CLICK_DELETE};return o.prototype.render=function(i,n){t.extend(!0,this.config,n),this.$container=i,this.$container.html(e),this.$btnEdit=this.$container.find(s.idBtnEdit),this.$btnDel=this.$container.find(s.idBtnDel),this._bindEvents()},o.prototype.deleteEnabled=function(t){"undefined"!=typeof t&&(t?this.$btnDel.prop("disabled",!1):this.$btnDel.prop("disabled",!0))},o.prototype.setEventId=function(t){this.evtId=t},o.prototype._bindEvents=function(){var t=this;this.$btnEdit.on("click",function(){n.publish(a.clickEdit,t.evtId)}),this.$btnDel.on("click",function(){n.publish(a.clickDelete,t.evtId)})},o.prototype._unbindEvents=function(){this.$btnEdit.off("click"),this.$btnDel.off("click")},o.prototype.destroy=function(){this._unbindEvents()},o}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],
main:function(t,e,i,n,o){return'<button id="colsDisplayColEdit" class="btn btn-primary"><span class="glyphicon glyphicon-pencil"></span> </button>\r\n<button id="colsDisplayColDel" class="btn btn-primary"><span class="glyphicon glyphicon-trash"></span> </button>'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(38),i(39)],o=function(t,e,i){function n(e,i){this.config={},t.extend(!0,this.config,e,o),this.codelists=this.config.DSD_EDITOR_CODELISTS,i&&i()}var o={};return n.prototype.getCodelists=function(){return this.codelists},n.prototype.getFilteredCodelists=function(t){if(!this.codelists)return null;if(!t||"undefined"==t)return this.codelists;for(var e=[],i=0;i<this.codelists.length;i++)this.codelists[i].subject.toLowerCase()==t.toLowerCase()&&e.push(this.codelists[i]);return e},n.prototype.getCodelist=function(t){if(!this.codelists)return null;for(var e=0;e<this.codelists.length;e++)if(this.codelists[e].value==t)return this.codelists[e];return null},n}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){"use strict";return{}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){"use strict";return{LANG:"en",LOCALE:"en_EN",LANGFALLBACKORDER:["en","fr","es","ar","fr"],SECONDARY_MENU:{url:"fx-d-m/config/secondary_menu.json",disable:["delete","close","data","dsd"]},DSD_EDITOR_CONTEXT_SYSTEM:"demo1",DSD_EDITOR_DATASOURCES:["D3S"],DSD_EDITOR_SUBJECTS:"submodules/fenix-ui-DSDEditor/config/DSDEditor/Subjects.json",DSD_EDITOR_DATATYPES:"submodules/fenix-ui-DSDEditor/config/DSDEditor/Datatypes.json",DSD_EDITOR_CODELISTS:"config/submodules/DSDEditor/cstat_core_codelists.json",DATA_MANAGEMENT_NOT_LOGGEDIN_URL:"./index.html",FAKE_AUTHENTICATION:!0,CATALOG_BLANK_FILTER:"config/submodules/catalog/uae-catalog-blank-filter.json",SERVICE_BASE_ADDRESS:"http://fenix.fao.org/d3s_fenix/msd",SERVICE_GET_DATA_METADATA:{service:"resources",queryParams:{full:!0,dsd:!0}},SERVICE_GET_METADATA:{service:"resources/metadata",queryParams:{full:!0,dsd:!0}},SERVICE_COPY_METADATA:{service:"resources/metadata",queryParams:{full:!0,dsd:!0,export:!0}},SERVICE_SAVE_METADATA:{service:"resources/metadata"},SERVICE_SAVE_DSD:{service:"resources/dsd"},SERVICE_SAVE_DATA:{service:"resources"},SERVICE_RESOURCES_FIND:{service:"resources/find"}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;n=[i(41),i(42)],o=function(t,e){"use strict";return{en:t,fr:e}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){"use strict";return{yes:"Yes",no:"No",ok:"Ok",cancel:"Cancel",add:"Add",done:"Done",reset:"Reset",delete:"Delete",updated:"Updated",confirmDelete:"Delete?",edit:"Edit",title:"Title",subject:"Subject",domain:"Domain",key:"Key",datatype:"Data type",supplemental:"Supplemental",areYouSure:"Are you sure?",unsavedChanges:"Some changes are not saved, cancel anyway?",select:"Select...",nullColumns:"Columns cannot be empty",atLeast2Cols:"The dataset must have at least 2 columns",atLeastOneKey:"The dataset must have at least one Key",atLeastOneValue:"The dataset must have at least one 'value' subject",nullColumn:"Column cannot be null",empty:"Is empty",DimensionDataTypeConflict:"Conflict detected between value and datatype defined for the value",EmptyIdCodeList:"The codelist's ID cannot be empty",duplicateColumnIDs:"The column's ID must be unique, check your column's IDs",duplicateSubject:"Two columns cannot have the same subject, check your column's subjects",dataType:"Data type",titleBlank:"Title cannot be blank",subjectEmpty:"Subject cannot be empty",dataTypeEmpty:"Datatype cannot be empty",codelistEmpty:"Codelist cannot be empty",dimension:"Dimension",value:"Value",other:"Other",helpDim:"You need at least one dimension, dimensions are used to define your measure.<br/>Ex. Year, product, area...",helpVal:"You need exactly one measure. It is usually a number.<br/>Ex. Quantity, value...",helpOther:"Add additional informations attached to your measure.<br/>Ex. measurement unit, flags, notes...",domEdit_noDatatype:"Select a data type",domEdit_noDomain:"No limit for this data type"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){"use strict";return{yes:"Oui",no:"Non",ok:"Ok",cancel:"Annuler",add:"Ajouter",done:"Terminé",reset:"Reset",delete:"Supprimer",updated:"Mis(e) à jour",confirmDelete:"Supprimer?",edit:"Éditer",title:"Titre",subject:"Sujet",domain:"Domaine",key:"Clé",datatype:"Type de donnée",supplemental:"Supplément",areYouSure:"Êtes-vous sûr?",unsavedChanges:"Certains changements n'ont pas été enregistrés, annuler quand même?",select:"Sélectionner",nullColumns:"Les colonnes ne peuvent pas être vides",atLeast2Cols:"La base de données doit contenir au moins 2 colonnes",atLeastOneKey:"La base de données doit contenir au moins une Clé",atLeastOneValue:"La base de données doit contenir au moins une colonne 'valeur'",nullColumn:"La colonne ne peut pas être nulle",empty:"Est vide(s)",DimensionDataTypeConflict:"Conflit détecté entre la valeur et le type de donnée défini pour la valeur",EmptyIdCodeList:"L'identifiant de la codeliste ne peut pas être vide",duplicateColumnIDs:"L'identifiant de la colonne doit être unique, s'il vous plaît vérifiez les identifiants des vos colonnes",duplicateSubject:"Deux colonnes ne peuvent pas avoir le même sujet, s'il vous plaît vérifier les sujets des vos colonnes",dataType:"Type de données",titleBlank:"Le titre ne peut pas être vide",subjectEmpty:"Le sujet ne peut pas être vide",dataTypeEmpty:"Le type de données ne peut pas être vide",codelistEmpty:"La liste de codes ne peut pas être vide",dimension:"Dimension",value:"Valeur",other:"Autre",helpDim:"Vous avez besoin d'au moins une dimension, les dimensions sont utilisées pour définir votre mesure.<br/>Ex. Année, produit, surface...",helpVal:"Il vous faut exactement une mesure. C'est habituellement un nombre.<br/>Ex. Quantité, valeur...",helpOther:"Ajouter des informations supplémentaires associées à votre mesure.<br/>Unité de mesure, notes...",domEdit_noDatatype:"Sélectionnez un type de données",domEdit_noDomain:"Aucune limite pour ce type de données"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;n=[i(2),i(32),i(46),i(47),i(49),i(40),i(53),i(55),i(44),i(57),i(29),i(59),i(4),i(30),i(60)],o=function(t,e,i,n,o,r,s,a,l,d,u,c,p,h){function f(e){this.config={},this.$cnt=null,t.extend(!0,this.config,e,m),this.langs=this.config.inputLangs||m.inputLangs,this.lang=this.config.lang||m.inputLangs[0],this.lang=this.lang.toLowerCase(),this.$txtTitle,this.$txtSupplemental,this.dynRadioSubj,this.mlTitle,this.mlSupplemental,this.dynRadioDataType,this.editorType="",this.colID="",this.valuesField=null,this.domainEditor=new o(this.config),this.columnEditorReader=new s,this.subjectReader=new a,this.datatypeReader=new l,this.dynRadioSubj=null,this.dynRadioDataType=null,this.validator=null,this.editorsVisibilityCfg={subject:!0,domain:!0,datatype:!0}}function y(t,e){"undefined"!=typeof e&&(e?t.show():t.hide())}var m={inputLangs:["EN","FR"]},v={txtTitle:"#txtTitle",txtSupplemental:"#txtSupplemental",trSubj:"#trSubj",tdSubj:"#tdSubj",trDataType:"#trDataType",tdDataType:"#tdDataType",trDomain:"#trDomain",tdDomain:"#tdDomainEditor",tblColEditor:"#tblColEditor",lblTitle:"#lTitle",lblSuppl:"#lSupplemental",lblSubj:"#lSubject",lblDataType:"#lDataType",lblDomain:"#lDomain"},D={dimension:"dimension",value:"value",other:"other"},b={code:"code"},g={SUBJ:"radioSubj",DTYPE:"radioDatatype"};return f.prototype.render=function(e,o){t.extend(!0,this.config,o),this.$cnt=e,this.$cnt.html(i),this.$txtTitle=this.$cnt.find(v.txtTitle),this.$txtSupplemental=this.$cnt.find(v.txtSupplemental),this.$trSubj=this.$cnt.find(v.trSubj);var r=this.$cnt.find(v.tdSubj);this.$trDomain=this.$cnt.find(v.trDomain);var s=this.$cnt.find(v.tdDomain);this.dynRadioSubj=new n,this.dynRadioSubj.render(r),this.$trDataType=this.$cnt.find(v.trDataType);var a=this.$cnt.find(v.tdDataType);this.dynRadioDataType=new n,this.dynRadioDataType.render(a),this.mlTitle=new d({langs:this.config.inputLangs}),this.mlTitle.render(this.$txtTitle),this.mlSupplemental=new d({langs:this.config.inputLangs}),this.mlSupplemental.render(this.$txtSupplemental),this.domainEditor.render(s),this._bindEvents(),this._attachValidator(),this._doML()},f.prototype.setEditMode=function(t){this.editorsVisibilityCfg=t,y(this.$trSubj,t.subject),y(this.$trDomain,t.domain),y(this.$trDataType,t.datatype)},f.prototype.newColumn=function(){this.reset()},f.prototype._subjectChanged=function(t){this.updateDataTypes(this.editorType,t),this.domainEditor.reset()},f.prototype._dataTypeChanged=function(t){this.domainEditor.setMode(t,this.dynRadioSubj.get())},f.prototype.setColumnEditorType=function(t){this.editorType=t;var e=this.columnEditorReader.getColumnTypeSubjects(t);if(!e||0==e.length)return void this._subjectsVisible(!1);for(var i=this.subjectReader.getFilteredSubjects(e),n=[],o=0;o<i.length;o++)n.push({value:i[o].value,text:i[o].text[this.lang.toUpperCase()]});var r=null;1==n.length?(r=n[0].value,this._subjectsVisible(!1)):this._subjectsVisible(!0),this.dynRadioSubj.setRadios(g.SUBJ,n,r),this.updateDataTypes(t,r)},f.prototype.updateDataTypes=function(t,e){var i=this.columnEditorReader.getSubjectDatatypes(t,e);if(i){for(var n=this.datatypeReader.getFilteredDatatypes(i),o=[],r=0;r<n.length;r++)o.push({value:n[r].value,text:n[r].text[this.lang.toUpperCase()]});this.dynRadioDataType.setRadios(g.DTYPE,o,"")}},f.prototype.reset=function(){this.colID="",this.valuesField=null,this.mlTitle.reset(),this.mlSupplemental.reset(),this.dynRadioSubj.reset(),this.dynRadioDataType.reset(),this.setColumnEditorType(""),this.domainEditor.reset()},f.prototype._subjectsVisible=function(t){("undefined"==typeof this.editorsVisibilityCfg.subject||this.editorsVisibilityCfg.subject)&&(t?this.$trSubj.show():this.$trSubj.hide())},f.prototype.getColumn=function(){var t={};return t.id=this.colID,this.valuesField&&(t.values=this.valuesField),this.editorType==D.dimension?t.key=!0:t.key=!1,t.subject=this.dynRadioSubj.get(),t.dataType=this.dynRadioDataType.get(),t.title=this.mlTitle.get(),t.supplemental=this.mlSupplemental.get(),t.domain=this.domainEditor.get(),t},f.prototype.setColumn=function(t){this.reset(),this.colID=t.id,this.valuesField=t.values;var e=D.other;t.key?e=D.dimension:"value"==t.subject&&(e=D.value),this.setColumnEditorType(e),this.mlTitle.set(t.title),this.mlSupplemental.set(t.supplemental),this.dynRadioSubj.set(t.subject),this.dynRadioDataType.set(t.dataType),t.dataType==b.code&&this.domainEditor.set(b.code,t.subject,t.domain)},f.prototype._bindEvents=function(){var t=this;h.subscribe(u.DYNAMIC_RADIO_CHANGED,this,function(e,i){i==g.SUBJ?t._subjectChanged(e):i==g.DTYPE&&t._dataTypeChanged(e)})},f.prototype._unbindEvents=function(){h.unsubscribe(u.DYNAMIC_RADIO_CHANGED)},f.prototype._attachValidator=function(){e.info("DSDColumnEditor.prototype._attachValidator");var t=this.$cnt.find(v.tblColEditor);this.validator=t.parsley()},f.prototype._detachValidator=function(){e.info("DSDColumnEditor.prototype._detachValidator"),this.validator.destroy()},f.prototype.validate=function(){e.info("DSDColumnEditor.prototype.validate"),val=new c;var t=val.validateColumn(this.getColumn());return this.updateValidationUI(t),!t||0==t.length},f.prototype.updateValidationUI=function(t){if(e.info("DSDColumnEditor.prototype.updateValidationUI",this.validator,t),this.$cnt.find("#lTitle").parsley().reset(),this.$cnt.find("#lSubject").parsley().reset(),this.$cnt.find("#lDataType").parsley().reset(),this.$cnt.find("#lDomain").parsley().reset(),t)for(var i=0;i<t.length;i++)switch(t[i].message){case p.TITLE_BLANK:this.$cnt.find("#lTitle").parsley().addError("TITLE_BLANK",{message:r[this.lang][p.TITLE_BLANK],assert:"required",updateClass:!0});break;case p.SUBJECT_EMPTY:this.$cnt.find("#lSubject").parsley().addError("SUBJECT_EMPTY",{message:r[this.lang][p.SUBJECT_EMPTY],assert:"required"});break;case p.DATATYPE_EMPTY:this.$cnt.find("#lDataType").parsley().addError("DATATYPE_EMPTY",{message:r[this.lang][p.DATATYPE_EMPTY],assert:"required"});break;case p.CODELIST_EMPTY:this.$cnt.find("#lDomain").parsley().addError("CODELIST_EMPTY",{message:r[this.lang][p.CODELIST_EMPTY],assert:"required"})}},f.prototype.changed=function(){return this.mlTitle.changed()||this.mlSupplemental.changed()||this.domainEditor.changed()||this.dynRadioSubj.changed()||this.dynRadioDataType.changed()},f.prototype._doML=function(){this.$cnt.find(v.lblTitle).html(r[this.lang].title),this.$cnt.find(v.lblSuppl).html(r[this.lang].supplemental),this.$cnt.find(v.lblSubj).html(r[this.lang].subject),this.$cnt.find(v.lblDataType).html(r[this.lang].dataType),this.$cnt.find(v.lblDomain).html(r[this.lang].domain)},f.prototype.destroy=function(){this._unbindEvents(),this._detachValidator(),this.mlTitle.destroy(),this.mlSupplemental.destroy(),this.domainEditor.destroy(),this.dynRadioSubj.destroy(),this.dynRadioDataType.destroy()},f}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(2),i(45)],o=function(t,e){function i(i){this.config={},t.extend(!0,this.config,n,i),this.datatypes=e}var n={};return i.prototype.getDatatypes=function(){return this.datatypes},i.prototype.getFilteredDatatypes=function(t){if(!t)return null;for(var e,i=[],n=0;n<t.length;n++)e=this.getDatatype(t[n]),e&&i.push(e);return i},i.prototype.getDatatype=function(t){for(var e=0;e<this.datatypes.length;e++)if(this.datatypes[e].value==t)return this.datatypes[e];return null},i}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=[{value:"",text:{EN:" ",FR:" "}},{value:"code",text:{EN:"Code",FR:"Code"}},{value:"customCode",text:{EN:"Custom code",FR:"Code personnalisé"}},{value:"date",text:{EN:"Date",FR:"Date"}},{value:"month",text:{EN:"Month",FR:"Mois"}},{value:"year",text:{EN:"Year",FR:"Année"}},{value:"number",text:{EN:"Number",FR:"Nombre"}},{value:"text",text:{EN:"Text",FR:"Texte"}},{value:"percentage",text:{EN:"Percentage",FR:"Pourcentage"}}]},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<table class="table table-bordered table-nonfluid" id="tblColEditor" data-parsley-validate data-validate="parsley">\r\n    <tbody>\r\n        <tr><td><label id="lTitle" for="txtTitle">_Title</label></td><td id="txtTitle"></td></tr>\r\n        <tr style="display:none;"><td><label id="lSupplemental" for="txtSupplemental">_Supplemental</label></td><td id="txtSupplemental"></td></tr>\r\n        <tr id="trSubj">\r\n            <td><label id="lSubject" for="radioSubj">_Subject</label></td>\r\n            <td id="tdSubj"></td>\r\n        </tr>\r\n        <tr id="trDataType">\r\n            <td><label id="lDataType" for="radioDataType">_Data type</label></td>\r\n            <td id="tdDataType"></td>\r\n        <tr id="trDomain">\r\n            <td><label id="lDomain" for="">_Domain</label></td>\r\n            <td id="tdDomainEditor"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(48),i(29),i(30)],o=function(t,e,i,n){function o(e){this.config={},this.$container=null,t.extend(!0,this.config,r,e),this.groupName=null,this.radioSettings,this.$radioGroup,this._changed=!1}var r={},s={radioChanged:i.DYNAMIC_RADIO_CHANGED};o.prototype.render=function(e,i){t.extend(!0,this.config,i),this.$container=e},o.prototype.setRadios=function(t,e,i){if(this.groupName=t,this.radioSettings=e,this.$container.html(""),e&&0!=e.length){for(var n=0;n<e.length;n++)this.$container.append(a(t,e[n],i));this.$radioGroup=this.$container.find("input[name="+t+"]:radio"),this._bindEvents()}};var a=function(e,i,n){var o=l(e,i.value),r=t('<span><input type="radio" name="" value="" style="display:none" /><label></label></span>');return r.find("label").text(i.text),r.find("label").attr("for",o),r.find("input").val(i.value),r.find("input").attr("name",e),r.find("input").attr("id",o),r.prop("required",!0),n&&i.value==n&&r.find("input").attr("checked","checked"),r},l=function(t,e){return"rd"+t+"_"+e};return o.prototype.get=function(){return this.$radioGroup&&this.$radioGroup.filter(":checked")?this.$radioGroup.filter(":checked").val():null},o.prototype.set=function(t){if(this.reset(),t){var e=this.$container.find("#"+l(this.groupName,t));e.prop("checked",!0),n.publish(s.radioChanged,t,this.groupName)}},o.prototype.reset=function(){console.log("reset called",this.$radioGroup),this.$radioGroup&&(this.$radioGroup.prop("checked",!1),this._changed=!1)},o.prototype._bindEvents=function(){var e=this;t(this.$radioGroup.on("change",function(){var t=e.$container.find("input[name="+e.groupName+"]:checked").val();n.publish(s.radioChanged,t,e.groupName),e._changed=!0}))},o.prototype._unbindEvents=function(){this.$radioGroup&&this.$radioGroup.off("change")},o.prototype.changed=function(){return this._changed},o.prototype.destroy=function(){this._unbindEvents()},o}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<span><input type="radio" name="" value="" style="display:none" /><label></label></span>'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(50),i(51),i(40),i(30)],o=function(t,e,i,n,o){function r(e){this.config={},this.$container=null,t.extend(!0,this.config,s,e),this.mode="",this.$divNoDatatype=null,this.$divNoDomain=null,this.$divDomainEditor=null,this.codelistSelector=null,this._changed=!1,this.lang=this.config.lang.toLowerCase()}var s={},a={idNoDataType:"#domEdit_noDatatype",idNoDomain:"#domEdit_noDomain",idEditor:"#domEdit_editor"},l={code:"code",year:"year",month:"month",date:"date",customCode:"customCode"};return r.prototype.render=function(i,n){t.extend(!0,this.config,n),this.$container=i,this.$container.html(e),this.$divNoDatatype=this.$container.find(a.idNoDataType),this.$divNoDomain=this.$container.find(a.idNoDomain),this.$divDomainEditor=this.$container.find(a.idEditor),this.$divNoDatatype.show(),this.$divNoDomain.hide(),this.$divDomainEditor.hide(),this._bindEvents(),this._doML()},r.prototype.set=function(t,e,i){switch(this._changed=!1,this.setMode(t,e),this.mode){case l.code:this.codelistSelector.set(e,i.codes);break;case l.year:case l.month:case l.date:}},r.prototype.get=function(){switch(this.mode){case l.code:return{codes:[this.codelistSelector.get()]};case l.year:case l.month:case l.date:}},r.prototype.reset=function(){this.setMode(""),this._changed=!1},r.prototype.setMode=function(t,e){if(this.mode!=t)switch(this.mode=t,this.$divDomainEditor.empty(),this.$divDomainEditor.hide(),this.$divNoDomain.hide(),this.$divNoDatatype.hide(),this.codelistSelector&&this.codelistSelector.destroy(),this.codelistSelector=null,t){case"":this.$divNoDatatype.show();break;case l.code:this.$divDomainEditor.show(),this.codelistSelector=new i(this.config),this.codelistSelector.render(this.$divDomainEditor),this.codelistSelector.setSubject(e);break;case l.year:case l.month:case l.date:this.$divDomainEditor.show();break;case l.customCode:break;default:this.$divNoDomain.show()}},r.prototype._bindEvents=function(){},r.prototype._unbindEvents=function(){},r.prototype.changed=function(){return this._changed},r.prototype.destroy=function(){this.codelistSelector&&this.codelistSelector.destroy(),this._unbindEvents()},r.prototype._doML=function(){this.$container.find(a.idNoDataType).html(n[this.lang].domEdit_noDatatype),this.$container.find(a.idNoDomain).html(n[this.lang].domEdit_noDomain)},r}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<div id="domEdit_noDatatype">Select a data type</div>\r\n<div id="domEdit_noDomain">No limit for this data type</div>\r\n<div id="domEdit_editor"></div>'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(52),i(37),i(29),i(30)],o=function(t,e,i,n,o){function r(e){this.config={},this.$container=null,t.extend(!0,this.config,e,s),this.clReader=null,this.tmpVal="",this.tmpSubj="",this.loaded=!1}var s={},a={idCodesDDL:"#clSelDDL"},l={ddlChange:n.CODELIST_SELECTOR_CHANGED},d="EN";return r.prototype.render=function(n,o){t.extend(!0,this.config,o),this.$container=n,this.$container.html(e),this.$clDDl=this.$container.find(a.idCodesDDL),this._bindEvents();var r=this;this.clReader=new i(this.config,function(){r._clLoaded()})},r.prototype._clLoaded=function(){return this.loaded=!0,""!=this.tmpVal?void this.set(this.tmpSubj,this.tmpVal):void(""!=this.tmpSubj&&this.setSubject(this.tmpSubj))},r.prototype.setSubject=function(e){if(!this.loaded)return void(this.tmpSubj=e);var i=this.clReader.getFilteredCodelists(e),n=this.$clDDl.val();if(this.$clDDl.find("option").remove(),i){this.$clDDl.append(t("<option>",{value:"",text:""}));for(var o=0;o<i.length;o++)this.$clDDl.append(t("<option>",{value:i[o].value,text:i[o].text[d]}));1==i.length?this.$clDDl.val(i[0].value):n&&this.$clDDl.val(selected)}},r.prototype.reset=function(){this.$clDDl.find("option").remove()},r.prototype.set=function(t,e){if(!this.loaded)return this.tmpSubj=t,void(this.tmpVal=e);if(this.setSubject(t),!e||0==e.length)return void this.$clDDl.val("");var i=e[0].idCodeList;e[0].version&&(i=i+"|"+e[0].version),this.$clDDl.val(i)},r.prototype.get=function(){var t=this.$clDDl.val();if(""==t)return null;var e=t.split("|");return e[1]?{idCodeList:e[0],version:e[1]}:{idCodeList:e[0]}},r.prototype._bindEvents=function(){var t=this;this.$clDDl.on("change",function(e){o.publish(l.ddlChange,t.$clDDl.val())})},r.prototype._unbindEvents=function(){this.$clDDl.off("change")},r.prototype.destroy=function(){this._unbindEvents()},r}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<select id="clSelDDL" class="form-control"></select>'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(54)],o=function(t,e){function i(i){this.config={},t.extend(!0,this.config,n,i),this.columnECfg=e}var n={};return i.prototype.getColumnEditorCfg=function(){return this.columnECfg},i.prototype.getColumnTypeSubjects=function(t){if(!this.columnECfg[t])return null;for(var e=[],i=0;i<this.columnECfg[t].length;i++)e.push(this.columnECfg[t][i].subject);return e},i.prototype.getSubjectDatatypes=function(t,e){if(!this.columnECfg[t])return null;for(var i=0;i<this.columnECfg[t].length;i++)if(this.columnECfg[t][i].subject==e)return this.columnECfg[t][i].datatypes;return null},i}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports={dimension:[{subject:"item",datatypes:["code"]},{subject:"indicator",datatypes:["code"]},{subject:"gender",datatypes:["code"]},{subject:"residence",datatypes:["code"]},{subject:"food",datatypes:["code"]},{subject:"sector",datatypes:["code"]},{subject:"fieldManagement",datatypes:["code"]},{subject:"agriculturalPopulation",datatypes:["code"]},{subject:"census",datatypes:["code"]},{subject:"time",datatypes:["year","month","date"]},{subject:"geo",datatypes:["code"]},{subject:"undefined",datatypes:["code","year"]}],value:[{subject:"value",datatypes:["number","text"]}],other:[{subject:"flag",datatypes:["code"]},{subject:"um",datatypes:["code"]}]}},function(t,e,i){var n,o;n=[i(2),i(56)],o=function(t,e){function i(i){this.config={},t.extend(!0,this.config,n,i),this.subjs=e}var n={};return i.prototype.getSubjects=function(){return this.subjs},i.prototype.getFilteredSubjects=function(t){if(!t)return null;for(var e,i=[],n=0;n<t.length;n++)e=this.getSubject(t[n]),e&&i.push(e);return i},i.prototype.getSubject=function(t){for(var e=0;e<this.subjs.length;e++)if(this.subjs[e].value==t)return this.subjs[e];return null},i}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=[{value:"item",text:{EN:"Item",FR:"Article"},codelistSubject:"item"},{value:"indicator",text:{EN:"Indicator",FR:"Indicateur"},codelistSubject:"indicator"},{value:"gender",text:{EN:"Gender",FR:"Genre"},codelistSubject:"gender"},{value:"residence",text:{EN:"Residence",FR:"Résidence"},codelistSubject:"residence"},{value:"food",text:{EN:"Food",FR:"Aliments"},codelistSubject:"food"},{value:"sector",text:{EN:"Sector",FR:"Secteur"},codelistSubject:"sector"},{value:"fieldManagement",text:{EN:"Field Management",FR:"Gestion du Terrain"},codelistSubject:"fieldManagement"},{value:"agriculturalPopulation",text:{EN:"Agricultural",FR:"Agricole"},codelistSubject:"agriculturalPopulation"},{value:"census",text:{EN:"Census",FR:"Census"},codelistSubject:"census"},{value:"time",text:{EN:"Time",FR:"Temps"}},{value:"geo",text:{EN:"Geo",FR:"Geo"},codelistSubject:"geo"},{value:"flag",text:{EN:"Flag",FR:"Flag"},codelistSubject:"flag"},{value:"value",text:{EN:"Value",FR:"Valeur"}},{value:"um",text:{EN:"UM",FR:"Unité"},codelistSubject:"um"}]},function(t,e,i){var n,o;n=[i(32),i(2),i(58)],o=function(t,e,i){function n(t){this.config={},this.$container=null,e.extend(!0,this.config,r,t),this.$tblMLInput=null,this.txt=[],this._changed=!1}function o(t){var e=s.replace("%lCode%",t);return e=e.replace("%idlCode%",a+""+t)}var r={langs:["EN"]},s='<tr><td>%lCode%</td><td><input type="text" id="%idlCode%" class="form-control" /></td></tr>',a="mlTD_",l={idTblMLInput:"#tblMLInput"};return n.prototype.render=function(t,n){e.extend(!0,this.config,n),this.$container=t,this.$container.html(i),this.$tblMLInput=this.$container.find(l.idTblMLInput),this._create(this.config.langs),this.bindEvents()},n.prototype._create=function(t){if(!t)return"";for(var e="",i=0;i<t.length;i++)e+=o(t[i]);for(this.$tblMLInput.html(e),this.txt=[],i=0;i<t.length;i++)this.txt.push(this.$tblMLInput.find("#"+a+t[i]))},n.prototype.set=function(t){if(this.reset(),t)for(var e=0;e<this.config.langs.length;e++)t[this.config.langs[e]]&&this.txt[e].val(t[this.config.langs[e]])},n.prototype.get=function(){if(!this.txt)return null;for(var t={},e="",i=0;i<this.config.langs.length;i++)e=this.txt[i].val().trim(),e&&(t[this.config.langs[i].toUpperCase()]=e);return t},n.prototype.reset=function(){if(this.txt){for(var t=0;t<this.txt.length;t++)this.txt[t].val("");this._changed=!1}},n.prototype.isEmpty=function(){var t=this.get();return!!e.isEmptyObject(t)},n.prototype.bindEvents=function(){if(this.txt)for(var t=this,e=0;e<this.txt.length;e++)this.txt[e].on("keyup",function(){t._changed=!0})},n.prototype.unbindEvents=function(){if(this.txt)for(var t=0;t<this.txt.length;t++)this.txt[t].off("keyup")},n.prototype.changed=function(){return this._changed},n.prototype.destroy=function(){this.unbindEvents()},n}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n=i(6);t.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<table>\r\n    <tbody id="tblMLInput">\r\n    </tbody>\r\n</table>\r\n'},useData:!0})},function(t,e,i){var n,o;n=[i(2),i(32),i(4)],o=function(t,e,i){function n(i){e.info("Validator_DSD"),this.config={},t.extend(!0,this.config,c,i)}function o(e){return t.isEmptyObject(e)?{field:"title",level:p.ERROR,message:i.TITLE_BLANK}:null}function r(t,e){if(!t.key)return null;if(!t.dataType)return null;for(var n=0;n<e.length;n++)if(t.dataType==e[n])return null;return{field:"dimension",level:p.ERROR,message:i.DIMENSION_DATATYPE_ERROR}}function s(t){return t.key?t.subject?void 0:{field:"subject",level:p.ERROR,message:i.SUBJECT_EMPTY}:null}function a(t){if(!t.dataType)return{field:"dataType",level:p.ERROR,message:i.DATATYPE_EMPTY}}function l(t){return t.dataType?"code"!=t.dataType||t.domain&&t.domain.codes&&t.domain.codes[0]&&t.domain.codes[0].idCodeList?void 0:{field:"domain",level:p.ERROR,message:i.CODELIST_EMPTY}:null}function d(t){var e=[];if(!t)return e.push({level:p.ERROR,message:i.NULL_COLUMNS}),e;if(t.length<2)return e.push({level:p.ERROR,message:i.AT_LEAST_2_COLS}),e;for(var n=0;n<t.length-1;n++)for(var o=n+1;o<t.length;o++)t[n].id==t[o].id&&e.push({level:p.ERROR,message:i.DUPLICATE_IDS});var r=0,s=0;for(n=0;n<t.length;n++)t[n].key&&r++,t[n].subject&&"value"==t[n].subject&&s++;return r<1&&e.push({level:p.ERROR,message:i.AT_LEAST_1_KEY}),s<1&&e.push({level:p.ERROR,message:i.AT_LEAST_1_VALUE}),e}function u(t,e){e&&(t||(t=[]),e instanceof Array?Array.prototype.push.apply(t,e):t.push(e))}var c={allowedKeyDataTypes:["code","customCode","date","month","year"]},p={ERROR:"error"};return n.prototype.validateColumn=function(t){var e=[];return t?(u(e,o(t.title)),u(e,r(t,this.config.allowedKeyDataTypes)),u(e,s(t)),u(e,a(t)),u(e,l(t)),e):(e.push({level:p.ERROR,message:i.NULL_COLUMN}),e)},n.prototype.validateColumns=function(t){var e=[],i=d(t);if(u(e,i),!t)return e;for(var n=0;n<t.length;n++){var o=this.validateColumn(t[n]);u(e,o)}return e},n}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=n},function(t,e,i){var n,o;n=[],o=function(){var t=function(){};return t.prototype.generate=function(t,e){var i="OTHER";return e.key?i="DIMENSION":"value"==e.subject&&(i="VALUE"),this._generate(t,i)},t.prototype._generate=function(t,e){if(!t)return"";for(var i=e.toUpperCase(),n=0,o=!0;o;){o=!1;for(var r=i+""+n,s=0;s<t.length;s++)if(t[s].id==r){o=!0,n++;break}}return i+""+n},t}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){}])});
//# sourceMappingURL=fenix-ui-DSDEditor.min.js.map